(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{115:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return u}));var a=n(3),o=n(7),i=(n(0),n(148)),r=n(152),c=n(153),l={id:"exclusion",title:"Data exclusion",sidebar_label:"Data Exclusion"},s={unversionedId:"basics/exclusion",id:"basics/exclusion",isDocsHomePage:!1,title:"Data exclusion",description:"This section covers situations where one may want to selectively remove information from PopData. Using standard Julia conventions, exclude() will create a copy of your",source:"@site/docs/basics/exclusion.md",slug:"/basics/exclusion",permalink:"/PopGen.jl/docs/basics/exclusion",editUrl:"https://github.com/pdimens/popgen.jl/edit/documentation/docs/basics/exclusion.md",version:"current",lastUpdatedAt:1605375888,sidebar_label:"Data Exclusion",sidebar:"docs",previous:{title:"Adding Information",permalink:"/PopGen.jl/docs/basics/add_info"},next:{title:"Location and population data",permalink:"/PopGen.jl/docs/basics/populations"}},p=[{value:"Exclude samples, loci, or entire populations",id:"exclude-samples-loci-or-entire-populations",children:[{value:"Keyword Arguments",id:"keyword-arguments",children:[]}]}],b={toc:p};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This section covers situations where one may want to selectively remove information from ",Object(i.b)("inlineCode",{parentName:"p"},"PopData"),". Using standard Julia conventions, ",Object(i.b)("inlineCode",{parentName:"p"},"exclude()")," will create a copy of your\n",Object(i.b)("inlineCode",{parentName:"p"},"PopData")," excluding the specific criteria, whereas ",Object(i.b)("inlineCode",{parentName:"p"},"exclude!()")," will edit the input\n",Object(i.b)("inlineCode",{parentName:"p"},"PopData")," in-place."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"alias functions")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"The exclusion commands are interchangeable with ",Object(i.b)("inlineCode",{parentName:"p"},"omit")," and ",Object(i.b)("inlineCode",{parentName:"p"},"remove"),", both with and\nwithout the bang (",Object(i.b)("inlineCode",{parentName:"p"},"!"),"). This was done so you can use the function comfortably without\nneeding to remember the specific name to perform it. Maybe you just prefer the word ",Object(i.b)("inlineCode",{parentName:"p"},"omit")," to ",Object(i.b)("inlineCode",{parentName:"p"},"remove"),". We're not here to judge."),Object(i.b)("p",{parentName:"div"},"The examples below use any combination of ",Object(i.b)("inlineCode",{parentName:"p"},"omit"),", ",Object(i.b)("inlineCode",{parentName:"p"},"remove"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"exclude"),", and are\nsimilarly using varied keyword synonyms to demonstrate the flexibility of this\nfunction's syntax, along with demonstrating that it doesn't matter whether the\nkeyword is singular or plural (like ",Object(i.b)("inlineCode",{parentName:"p"},"locus")," vs ",Object(i.b)("inlineCode",{parentName:"p"},"loci"),")."))),Object(i.b)("h2",{id:"exclude-samples-loci-or-entire-populations"},"Exclude samples, loci, or entire populations"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),"exclude(data::PopObj, kwargs...)\nomit(data::PopObj, kwargs...)\nremove(data::PopObj, kwargs...)\n")),Object(i.b)("p",null,"Returns a new ",Object(i.b)("inlineCode",{parentName:"p"},"PopData")," object without the sample or samples provided. Input can be a\nsingle sample, or an array of samples. This command will inform you if your criteria\nwere not found in the ",Object(i.b)("inlineCode",{parentName:"p"},"PopData"),"."),Object(i.b)("h3",{id:"keyword-arguments"},"Keyword Arguments"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"locus"),": A ",Object(i.b)("inlineCode",{parentName:"li"},"String")," or ",Object(i.b)("inlineCode",{parentName:"li"},"Vector{String}")," of loci you want to remove from the ",Object(i.b)("inlineCode",{parentName:"li"},"PopData"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The keyword ",Object(i.b)("inlineCode",{parentName:"li"},"loci")," also works."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"population"),": A ",Object(i.b)("inlineCode",{parentName:"li"},"String")," or ",Object(i.b)("inlineCode",{parentName:"li"},"Vector{String}")," of populations you want to remove from the ",Object(i.b)("inlineCode",{parentName:"li"},"PopData"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The keyword ",Object(i.b)("inlineCode",{parentName:"li"},"populations")," also works."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"name"),": A ",Object(i.b)("inlineCode",{parentName:"li"},"String")," or ",Object(i.b)("inlineCode",{parentName:"li"},"Vector{String}")," of samples you want to remove from the ",Object(i.b)("inlineCode",{parentName:"li"},"PopData"),".",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The keywords ",Object(i.b)("inlineCode",{parentName:"li"},"names"),", ",Object(i.b)("inlineCode",{parentName:"li"},"sample"),", and ",Object(i.b)("inlineCode",{parentName:"li"},"samples")," also work.")))),Object(i.b)(r.a,{block:!0,defaultValue:"s",values:[{label:"samples",value:"s"},{label:"loci",value:"m"},{label:"populations",value:"p"},{label:"combination",value:"c"}],mdxType:"Tabs"},Object(i.b)(c.a,{value:"s",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'julia> fewer_sharks = exclude(sharks, sample = "cc_001")\nPopData Object\n  Marker: SNP\n  Ploidy: 2\n  Samples: 211\n  Loci: 2209\n  Populations: 7\n  Coordinates: present\n\njulia> lots_fewer_sharks = remove(sharks, name = ["cc_001", "cc_002", "cc_003"])\nPopData Object\n  Marker: SNP\n  Ploidy: 2\n  Samples: 209\n  Loci: 2209\n  Populations: 7\n  Coordinates: present\n'))),Object(i.b)(c.a,{value:"m",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'julia> fewer_shark_loci = exclude(sharks, loci = "contig_475")\nPopData Object\n  Marker: SNP\n  Ploidy: 2\n  Samples: 212\n  Loci: 2208\n  Populations: 7\n  Coordinates: present\n\njulia> lots_fewer_loci = remove(sharks, locus = ["contig_475", "contig_2784", "contig_8065"])\nPopData Object\n  Marker: SNP\n  Ploidy: 2\n  Samples: 212\n  Loci: 2206\n  Populations: 7\n  Coordinates: present\n'))),Object(i.b)(c.a,{value:"p",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'julia> fewer_shark_pops = exclude(sharks, population = "Georgia")\nPopData Object\n  Markers: SNP\n  Ploidy: 2\n  Samples: 182\n  Loci: 2209\n  Populations: 6\n  Coordinates: present\n\njulia> lots_fewer_pops = remove(sharks, population = ["Florida Keys", "Mideast Gulf"])\nPopData Object\n  Markers: SNP\n  Ploidy: 2\n  Samples: 119\n  Loci: 2209\n  Populations: 5\n  Coordinates: present\n'))),Object(i.b)(c.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'julia> tiny_shark = exclude(sharks, loci = "contig_475", name = ["cc_001", "neg_021", "mango_111"], population = ["Cape Canaveral", "kiwi"])\nNotices:\n  sample "mango_111" not found\n  population "kiwi" not found\n\nPopData Object\n  Markers: SNP\n  Ploidy: 2\n  Samples: 190\n  Loci: 2208\n  Populations: 6\n  Coordinates: present\n')))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),Object(i.b)("strong",{parentName:"h5"},"__")," not found!")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"If removing a single thing and it is not found in the PopData, an error will be returned. However, if attempting removing multiple things, you will receive a notice above the PopData output indicating which things were not found, while still removing the ones that were present."))),Object(i.b)("p",null,"The in-place variant ",Object(i.b)("inlineCode",{parentName:"p"},"exclude!()")," follows all the same syntax as ",Object(i.b)("inlineCode",{parentName:"p"},"exclude()"),", therefore all examples above would be identical for ",Object(i.b)("inlineCode",{parentName:"p"},"exclude!()"),"."),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Efficient Exclusion")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("ol",{parentName:"div"},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Internally, there are two things that try to speed up data exclusion.\nExclusion occurs in the order of populations => samples => loci because this order removes the most volume of data per search so that each subsequent step has fewer data to process. Because of this order, you may get erroneous warnings if something isn't not found in the data if the previous step removed it.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'If you are excluding more than half of the present data for any particular category, the function will instead just "keep the opposite". It\'s ',Object(i.b)("em",{parentName:"p"},"much")," faster to keep 53 loci than it is to remove 5400 of them (390ms vs 20s)!. "))))))}u.isMDXComponent=!0},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var a=n(0),o=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,r=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(n),m=a,d=b["".concat(r,".").concat(m)]||b[m]||u[m]||i;return n?o.a.createElement(d,c(c({ref:t},s),{},{components:n})):o.a.createElement(d,c({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var s=2;s<i;s++)r[s]=n[s];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},149:function(e,t,n){"use strict";function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o}},150:function(e,t,n){"use strict";var a=n(0),o=n(151);t.a=function(){var e=Object(a.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},151:function(e,t,n){"use strict";var a=n(0),o=Object(a.createContext)(void 0);t.a=o},152:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(150),r=n(149),c=n(54),l=n.n(c),s=37,p=39;t.a=function(e){var t=e.lazy,n=e.block,c=e.defaultValue,b=e.values,u=e.groupId,m=e.className,d=Object(i.a)(),j=d.tabGroupChoices,O=d.setTabGroupChoices,f=Object(a.useState)(c),h=f[0],v=f[1],N=a.Children.toArray(e.children);if(null!=u){var g=j[u];null!=g&&g!==h&&b.some((function(e){return e.value===g}))&&v(g)}var y=function(e){v(e),null!=u&&O(u,e)},w=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":n},m)},b.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===t,className:Object(r.a)("tabs__item",l.a.tabItem,{"tabs__item--active":h===t}),key:t,ref:function(e){return w.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case p:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(w,e.target,e)},onFocus:function(){return y(t)},onClick:function(){y(t)}},n)}))),t?Object(a.cloneElement)(N.filter((function(e){return e.props.value===h}))[0],{className:"margin-vert--md"}):o.a.createElement("div",{className:"margin-vert--md"},N.map((function(e,t){return Object(a.cloneElement)(e,{key:t,hidden:e.props.value!==h})}))))}},153:function(e,t,n){"use strict";var a=n(3),o=n(0),i=n.n(o);t.a=function(e){var t=e.children,n=e.hidden,o=e.className;return i.a.createElement("div",Object(a.a)({role:"tabpanel"},{hidden:n,className:o}),t)}}}]);